<!DOCTYPE html>
<html>
<head>
  <title>Employee Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h2>Welcome, {{ username }}</h2>
    <form method="POST">
      <h3>Submit Leave</h3>
      <label>From</label>
      <input type="date" name="from" required min="{{ today }}">
      <label>To</label>
      <input type="date" name="to" required>
      <label>Reason</label>
      <textarea name="reason" required></textarea>
      <label>Type</label>
      <select name="leaveType" required>
        <option value="">Select</option>
        <option>Casual</option>
        <option>Sick</option>
        <option>Earned</option>
      </select>
      <button type="submit">Submit Leave</button>
    </form>
    <h3>Your Leave History</h3>
    <table>
      <tr>
        <th>From</th>
        <th>To</th>
        <th>Type</th>
        <th>Reason</th>
        <th>Status</th>
      </tr>
      {% for lr in leaves %}
      <tr>
        <td>{{ lr.from_date }}</td>
        <td>{{ lr.to_date }}</td>
        <td>{{ lr.leave_type }}</td>
        <td>{{ lr.reason }}</td>
        <td class="status-{{ lr.status|lower|replace(' ', '-') }}">{{ lr.status }}</td>
      </tr>
      {% endfor %}
    </table>
    <p><a href="{{ url_for('logout') }}">Logout</a></p>
  </div>
</body>
</html>